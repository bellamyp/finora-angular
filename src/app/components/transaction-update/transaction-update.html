<div class="card p-4 shadow-lg rounded-4 mx-auto my-4" style="max-width: 900px;">
  <h2 class="text-center mb-4 text-primary">Edit Transaction Group</h2>

  <div class="mb-3 text-secondary">
    <strong>Group ID:</strong> {{ groupId }}
  </div>

  <div class="table-responsive">
    <table class="table table-bordered align-middle">
      <thead class="table-light text-center">
      <tr>
        <th>Date</th>
        <th>Amount</th>
        <th>Bank</th>
        <th>Brand</th>
        <th>Type</th>
        <th>Notes</th>
        <th style="width: 80px;"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let t of transactions; let i = index">
        <td><input type="date" class="form-control" [(ngModel)]="t.date" name="date{{i}}"></td>
        <td><input type="number" class="form-control" [(ngModel)]="t.amount" name="amount{{i}}" step="0.01"></td>
        <td>
          <select class="form-select" [(ngModel)]="t.bankId" name="bank{{i}}">
            <option [ngValue]="undefined">-- Select Bank --</option>
            <option *ngFor="let b of banks" [ngValue]="b.id">{{ b.name }}</option>
          </select>
        </td>
        <td>
          <select class="form-select" [(ngModel)]="t.brandId" name="brand{{i}}">
            <option [ngValue]="undefined">-- Select Brand --</option>
            <option *ngFor="let b of brands" [ngValue]="b.id">{{ b.name }} ({{ b.location }})</option>
          </select>
        </td>
        <td>
          <select class="form-select" [(ngModel)]="t.typeId" name="type{{i}}">
            <option [ngValue]="undefined">-- Type --</option>
            <option *ngFor="let type of transactionTypes" [ngValue]="type.id">{{ type.name }}</option>
          </select>
        </td>
        <td><input type="text" class="form-control" [(ngModel)]="t.notes" name="notes{{i}}"></td>
        <td class="text-center">
          <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeTransaction(i)">
            <i class="bi bi-trash"></i>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-end mb-3">
    <button type="button" class="btn btn-outline-primary" (click)="addTransaction()">+ Add Transaction</button>
  </div>

  <button type="button" class="btn btn-success w-100" (click)="saveChanges()">Save Changes</button>
</div>
